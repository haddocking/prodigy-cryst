[tox]
minversion = 3.14.0
ignore_basepython_conflict = true
# these are the environments that will run when you
# execute `tox` in the command-line
# bellow you will find explanations for all environments
envlist =
    lint

# configures which environments run with each python version
[testenv]
basepython =
    {flake8}: {env:TOXPYTHON:python3}
    {black}: {env:TOXPYTHON:python3}
passenv = *

[testenv:flake8]
skip_install = true
deps =
    flake8>=4
commands =
    flake8 {posargs: .}

[testenv:black]
skip_install = true
deps =
    black
commands =
    # black has trouble dealing with super long lines, experimental-string-processing takes care of it
    black --check --diff --experimental-string-processing {posargs: .}


# CONFIGURATIONS

# favourite configuration for flake8 styling
# https://flake8.pycqa.org/en/latest/#

[flake8]
# to make it compatible with black
# W503 can be generated by black, but its not PEP 8 compliant
# E203 is also not compliant
ignore =
    W503
    E203
    E501
max-line-length = 88
extend-ignore = E203
